<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self';style-src 'self' 'unsafe-inline';frame-src player.vimeo.com https://www.youtube-nocookie.com https://www.youtube.com;connect-src 'self' benashford.goatcounter.com/count;script-src 'self' gc.zgo.at 'self'" http-equiv=Content-Security-Policy><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://benashford.github.io name=base><title>
Ben Ashford • Resurrecting my old Turbo Pascal homework with AI</title><link href="https://benashford.github.io/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://benashford.github.io/main.css?h=3716ab3457d2dd050b3c" rel=stylesheet><link href="https://benashford.github.io/custom.css?h=8033382f2c68f07d12a3" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="Mildly interesting technology stories." name=description><meta content="Mildly interesting technology stories." property=og:description><meta content="Resurrecting my old Turbo Pascal homework with AI" property=og:title><meta content=article property=og:type><meta content=en_GB property=og:locale><link href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/ rel=canonical><meta content=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/ property=og:url><meta content="Ben Ashford" property=og:site_name><noscript><link href=https://benashford.github.io/no_js.css rel=stylesheet></noscript><script src=https://benashford.github.io/js/initializeTheme.min.js></script><script defer src=https://benashford.github.io/js/themeSwitcher.min.js></script><script async data-goatcounter=https://benashford.goatcounter.com/count src=https://gc.zgo.at/count.js></script><script src="https://benashford.github.io/search_index.en.js?h=194ee059cb93d534a980" defer></script><script src="https://benashford.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><a href=#main-content id=skip-link>Skip to content</a><header><nav class=navbar><div class=nav-title><a class=home-title href=https://benashford.github.io/>Ben Ashford</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://benashford.github.io/blog/>blog </a><li><a class="nav-links no-hover-padding" href=https://benashford.github.io/archive/>archive </a><li><a class="nav-links no-hover-padding" href=https://benashford.github.io/about/>about </a><li class=menu-icons-container><ul class=menu-icons-group><li class="js menu-icon"><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></ul></ul></div></nav></header><div class=content id=main-content><main><article class=h-entry><h1 class="p-name article-title">Resurrecting my old Turbo Pascal homework with AI</h1><a class="u-url u-uid" href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/></a><ul class=meta><span class="hidden p-author h-card"> <a class=u-url href=https://benashford.github.io rel=author></a> </span><li><time class=dt-published datetime=2025-12-24>24th Dec 2025</time><li title="4817 words"><span aria-hidden=true class=separator>•</span>25 min read<li class=tag><span aria-hidden=true class=separator>•</span>Tags: <li class=tag><a class=p-category href=https://benashford.github.io/tags/ai/>ai</a>, <li class=tag><a class=p-category href=https://benashford.github.io/tags/turbo-pascal/>turbo-pascal</a>, <li class=tag><a class=p-category href=https://benashford.github.io/tags/nostalgia/>nostalgia</a></ul><section class="e-content body"><h2 id=let-me-take-you-back-in-time>Let me take you back in time...</h2><p>The year is 1995, I'm studying for my A-Levels<sup class=footnote-reference><a href=#1>1</a></sup>, the Dot Com Boom hasn't even started yet let alone crashed. The horrors of the 21st Century have yet to come. The world is my oyster.<p>Being a bit of a nerd, I chose Computing as one of my subjects. A-Level Computing was an odd subject, it wasn't really Computer Science, but it wasn't just "IT Studies" either, it covered a lot of the basics: sorting algorithms, what two's complement is, all that sort of thing. It also had a lot of hands-on programming, and the final grade was half exam and half an original project.<p>The Computing room (which was dedicated to the subject, there were general purpose computer facilities for other subjects) was filled with 486 PCs, running MS-DOS and <a href=https://en.wikipedia.org/wiki/Turbo_Pascal>Turbo Pascal 7.0</a>. These were already out-of-date for the time, Windows 95 was about to be released, Turbo Pascal's last release was more than two years previously, but it was a genuinely fun environment to work in. It was a full compiler, but the IDE was very interactive, it had the simplicity of being able to go from zero to something tangible very quickly, just press Ctrl-F9 and away you go. (Ah those were the days, I can safely say today, after time in the <a href=https://en.wikipedia.org/wiki/Kubernetes>YAML mines</a>.) I can see why some places were still using Turbo Pascal for teaching much later than 1995.</p><style>.youtube-wrapper{margin:2rem 0}.youtube-container{max-width:100%;height:0;padding-bottom:56.25%;position:relative;overflow:hidden}.youtube-container iframe{border:0;width:100%;height:100%;position:absolute;top:0;left:0}.youtube-caption{text-align:center;color:#666;margin-top:.5rem;font-size:.875rem;font-style:italic}</style><div class=youtube-wrapper><div class=youtube-container><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" title="YouTube video player" allowfullscreen frameborder=0 height=315 referrerpolicy=strict-origin-when-cross-origin src=https://www.youtube.com/embed/UOtonwG3DXM width=560></iframe></div><div class=youtube-caption>a contemporaneous Turbo Pascal tutorial</div></div><p>At the start of the second year, we had to choose a project. The choice was quite free, but it had to be something substantial and original, although what "original" meant was unclear. It didn't have to be something academically original, like the criteria for a degree-level dissertation, but it couldn't be just a tweak of something that already existed. I chose to create a graphing calculator, which wasn't an original idea by any means, but I justified it on the grounds that I couldn't find one for DOS (doing a quick search now finds dozens, but I didn't know them at the time).<p>I began the work in complete and total ignorance of what I needed to do. I'd done programming before, well before A-Levels, I'd been tinkering ever since the 8-bit BASICs as well as the first-year programming projects in Turbo Pascal. But I didn't know anything about graphics calculators (apart from using a physical one in my A-Level Maths homework), yet in an odd way that was kind of a bonus. "How hard can it be?" is a legit source of energy. Surely just start at the left, calculate Y for a given X and update the line?<p>Turbo Pascal was a "batteries included" platform, it had graphics libraries (e.g. <a href=https://en.wikipedia.org/wiki/Borland_Graphics_Interface>BGI</a>), so getting lines on the screen was trivially easy. It was very similar to the good old 8-bit BASICs in that sense.<p>I distinctly remember the first painful part, that was when I was trying to create a rudimentary UI. Buttons to navigate the screen, zoom in/out, that sort of thing. It felt like it took a month to get that part working. How the hell was I going to get the rest of it done? We essentially had all year to do it, but still...<p>...of course with the benefit of hindsight none of that was unusual in software projects. Some things always take disproportionately longer than others, it's the main reason why estimating software projects is so often wrong...<p>I ended up creating a custom unit called <code>Button</code> ("unit" is what Turbo Pascal calls what would be called a module, or package, in other languages), because that was all it did. It defined a function to reset the screen, a function to draw a button, and a function to check if a button was pressed. The rest of the UI was in the main code itself, using Turbo Pascal's Graph unit.<p>That was the most painful part of the project, so I need not have worried. Once I'd found a way forward, adding other features was straightforward. I just piled-on features, working on it most Wednesdays, until I ran out of time, then submitted the completed code.<p>Despite beginning with no idea what I was doing, and despite some of the code containing embarrassing howlers (more on these later), some parts were genuinely sophisticated. Not cutting edge of course, but sophisticated in the sense that it used classical algorithms that I was only partially familiar with. For example it included an implementation of the <a href=https://en.wikipedia.org/wiki/Shunting_yard_algorithm>Shunting Yard algorithm</a> to parse the equation in to Reverse Polish Notation, which was then used to evaluate Y for a given X, but I didn't know it was called that at the time, it was years later when I had the "oh so that's what it's called" moment. Because of that, there's no mention of "shunting" or "yard" in the code, nor Reverse Polish Notation for that matter. I'd implemented it from memory, it had been briefly mentioned in one of the classroom sessions in the first-year.<p>The project did the trick and got me an A-grade (A*-grades hadn't been invented yet, let alone replaced by whatever it uses now). I went on to study Computer Science at university, where I learned much more about the theory as well as the practicalities of programming. My degree dissertation was a much more involved project, much more academically rigorous, but I still felt more... what's the word, pride I suppose... for the calculator because it was a tangible tool that you could just use. My degree dissertation, on the other hand, was abstract, required a lot of data to start with and basically produced just a different lot of data that wasn't much to look at<sup class=footnote-reference><a href=#2>2</a></sup>.<p>The only problem was... the calculator didn't run anymore. Being royally fed-up with the terrible operating systems that were Windows 95 and Windows 98 I had adopted Windows NT, I'd got a student licence and installed NT 4.0 on a self-built PC that also dual-booted Linux. My DOS calculator didn't run on either, and couldn't be simply recompiled for a different target due to BGI and other things being DOS-only.<p>Unix code in the 1970s may still compile on modern Unix systems. IBM mainframe code from the 1960s may even run unmodified on modern IBM systems. But code written for Microsoft's premier platform in 1995<sup class=footnote-reference><a href=#3>3</a></sup> (this project started just before Windows 95 was released) didn't run on Microsoft's premier platform less than five years later.<p>Over the years I'd thought of different ways of resurrecting it, but never got round to it. There was always something more important going on with my time.<p>But I had (most of) the source code safely archived...<h2 id=the-calculator>The calculator</h2><p>Let's talk about the calculator itself.<p>It was a DOS application, I seem to recall it wasn't even an EXE it was a <a href=https://en.wikipedia.org/wiki/COM_file>COM executable</a> as that was the default and I never saw much reason to change it, but that did mean it had a strict memory limit of 64KB even though it ran on machines with 4 or 8MB of RAM.<p>The functionality was a subset of what you'd see in a physical graphical calculator of the time. You could enter two equations (and only two, because of the 64KB limit), plot them on screen, zoom in and out and pan around, including a crude click-and-drag box to zoom in to. You could then calculate: intersections, roots, etc. As I said above I basically added features until I ran out of time, there wasn't a set specification. Because of this there are a number of notable omissions like, you can use natural logarithms in the equations, but not base 10 logarithms. The code also has features that you can't get to in the UI, for example a random number generator.<p>Because it was modelled on a physical calculator, you couldn't use the full keyboard. You had to press the buttons on screen with a mouse. I thought I'd been clever doing this as it means not having to deal with invalid equations, but it was still quite easy to enter invalid equations.<p>Looking at the code now (I'll include a link below, but let me get my excuses in first), I'm struck by three emotions: amusement, embarrassment but also I'm quite impressed.</p><style>.captioned-image-wrapper{text-align:center;max-width:90%;margin:2rem auto;display:block}.captioned-image-wrapper img{cursor:pointer;width:100%;height:auto;margin:0 auto;transition:opacity .2s;display:block}.captioned-image-wrapper img:hover{opacity:.9}.image-caption{text-align:center;color:#666;margin-top:.5rem;font-size:.875rem;font-style:italic}.lightbox-overlay{z-index:9999;cursor:pointer;background-color:#000000e6;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:fixed;top:0;left:0}.lightbox-overlay.active{display:flex!important}.lightbox-overlay img{object-fit:contain;cursor:default;max-width:95%;max-height:95%;box-shadow:0 0 30px #00000080}.lightbox-close{color:#fff;cursor:pointer;z-index:10000;user-select:none;font-size:40px;font-weight:700;position:absolute;top:20px;right:30px}.lightbox-close:hover{color:#ccc}</style><figure class=captioned-image-wrapper><img alt="AI mock-up of a 1990s CRT showing a screen of code" class=lightbox-trigger loading=lazy src=crt_dos_pascal_code.png><figcaption class=image-caption>Artist's impression of a 1990s editing experience (code is real)</figcaption></figure><p>The code structure is basically one big file. With two exceptions, two custom units. One was the Button unit, which I mentioned above. The other was a <code>Stack</code> unit, which was just a stack data structure, which would be used for the equation evaluation. Everything else was in one single file that handled everything. It's approximately 2000 lines of code, and is old-school Pascal, none of that Object Pascal that would be popularised with <a href=https://en.wikipedia.org/wiki/Delphi_(programming_language)>Delphi</a> (even though Turbo Pascal 7 supported it), just procedural code. With a lot of global state.<p>This isn't how I'd structure a tool today, of course, but it wasn't bad in context of a self-contained project at the time. The aforementioned Stack unit, for example, was just one (well two, there was a string stack and a number stack) global stack, shared by multiple functions. But, because the code was single-threaded the stack was never under contention, one function had finished with it before the next started, so it worked.<p>The amusement factor comes from the way the code reads like I was both in a rush and had a headache when writing it. Numerous cases of placeholder names (variables called <code>thing</code> and procedures like <code>Initinitinit</code>, which is called by <code>Initinit</code> obviously - there is no <code>Init</code> for some reason).<p>The embarrassment factor overlaps with this, bad naming conventions, odd cases of supreme hubris (the word "magnificent" is used to describe the calculator). Terms like "equation" and "formula" are used to mean the same thing. But also I created functions that must have already existed in the standard library. For example:<pre class=language-pascal data-lang=pascal style=color:#c0c5ce;background-color:#2b303b><code class=language-pascal data-lang=pascal><span style=color:#b48ead>Function </span><span style=color:#8fa1b3>stringtoreal</span><span>(string1 : string) : real;
</span><span>         </span><span style=color:#b48ead>Var
</span><span>            answer       : real;
</span><span>            decimalpoint : integer;
</span><span>            i            : integer;
</span><span>            j            : real;
</span><span>            number       : real;
</span><span>
</span><span>         </span><span style=color:#b48ead>Begin
</span><span>              decimalpoint := </span><span style=color:#d08770>0</span><span>;
</span><span>              answer := </span><span style=color:#d08770>0</span><span>;
</span><span>              number := </span><span style=color:#d08770>0</span><span>;
</span><span>              </span><span style=color:#b48ead>Repeat
</span><span>                    inc(decimalpoint);
</span><span>              </span><span style=color:#b48ead>Until</span><span> (string1[decimalpoint] = '</span><span style=color:#a3be8c>.</span><span>') </span><span style=color:#b48ead>or</span><span> (decimalpoint > length(string1));
</span><span>              j := </span><span style=color:#d08770>1</span><span>;
</span><span>              </span><span style=color:#b48ead>For</span><span> i := (decimalpoint - </span><span style=color:#d08770>1</span><span>) downto </span><span style=color:#d08770>1 </span><span style=color:#b48ead>do
</span><span>              </span><span style=color:#b48ead>begin
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>0</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>0</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>1</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>1</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>2</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>2</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>3</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>3</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>4</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>4</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>5</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>5</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>6</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>6</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>7</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>7</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>8</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>8</span><span>;
</span><span>                   </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>9</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>9</span><span>;
</span><span>                   answer := answer + (number * j);
</span><span>                   j := j * </span><span style=color:#d08770>10</span><span>;
</span><span>              </span><span style=color:#b48ead>end</span><span>;
</span><span>              j := </span><span style=color:#d08770>0.1</span><span>;
</span><span>              </span><span style=color:#b48ead>if</span><span> decimalpoint &lt; length(string1) </span><span style=color:#b48ead>then
</span><span>                 </span><span style=color:#b48ead>For</span><span> i := (decimalpoint + </span><span style=color:#d08770>1</span><span>) </span><span style=color:#b48ead>to</span><span> length(string1) </span><span style=color:#b48ead>do
</span><span>                 </span><span style=color:#b48ead>begin
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>0</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>0</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>1</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>1</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>2</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>2</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>3</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>3</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>4</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>4</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>5</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>5</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>6</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>6</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>7</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>7</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>8</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>8</span><span>;
</span><span>                      </span><span style=color:#b48ead>If</span><span> string1[i] = '</span><span style=color:#a3be8c>9</span><span>' </span><span style=color:#b48ead>then</span><span> number := </span><span style=color:#d08770>9</span><span>;
</span><span>                      answer := answer + (number * j);
</span><span>                      j := j * </span><span style=color:#d08770>0.1
</span><span>                 </span><span style=color:#b48ead>end</span><span>;
</span><span>              stringtoreal := answer;
</span><span>         </span><span style=color:#b48ead>end</span><span>;
</span></code></pre><p>This must have been in the standard library somewhere. I don't think I even bothered to check, I was on a mission, the code just came out.<p>But I'm quite impressed by it, despite all that, because its actually quite readable. You can go through it from start to finish and understand what it's doing. I can't say that about a hell of a lot of software systems I've worked on in the intervening years.<h3 id=some-code-examples>Some code examples</h3><p>Just as a sampler, let's have a look at some code snippets. These tell a story.<h4 id=imported-units>Imported units</h4><pre class=language-pascal data-lang=pascal style=color:#c0c5ce;background-color:#2b303b><code class=language-pascal data-lang=pascal><span style=color:#b48ead>Uses</span><span> Button, Mouse, Graph, Crt, Stack;
</span></code></pre><p>These were the only "external" dependencies, and two of them were written by me (Button and Stack). Two were provided by Turbo Pascal (Graph and Crt).<p>The <code>Mouse</code> unit came from, I can't remember, I do remember giving credit to a third-party when submitting the project for review. But I honestly have no recollection of where it came from in the first place, but I'm fairly sure it wasn't my own work. I have vague memory of using the one computer that had a 14.4k modem to access a Turbo Pascal focused FTP server (those were the days), so that may have been it. If so it was the first time I'd used a centralised internet code repository.<p>I've tried searching for the function signatures, to see if that code still exists in the large today, or at least in some kind of historic Turbo Pascal archive. But to no avail. Or at least not an exact fit. I did find a edition of Byte magazine from 1985 that had an article called <a href=https://vintageapple.org/byte/pdf/198509_Byte_Magazine_Vol_10-09_10th_Anniversary_Issue.pdf>"Turbo Pascal Drives the Mouse"</a> by John Figueras, the functions exposed by that unit match the function names in the one I used, but the parameters were slightly different. It seems most likely that the version I used was a derivation of the one in the article.</p><style>.captioned-image-wrapper{text-align:center;max-width:90%;margin:2rem auto;display:block}.captioned-image-wrapper img{cursor:pointer;width:100%;height:auto;margin:0 auto;transition:opacity .2s;display:block}.captioned-image-wrapper img:hover{opacity:.9}.image-caption{text-align:center;color:#666;margin-top:.5rem;font-size:.875rem;font-style:italic}.lightbox-overlay{z-index:9999;cursor:pointer;background-color:#000000e6;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:fixed;top:0;left:0}.lightbox-overlay.active{display:flex!important}.lightbox-overlay img{object-fit:contain;cursor:default;max-width:95%;max-height:95%;box-shadow:0 0 30px #00000080}.lightbox-close{color:#fff;cursor:pointer;z-index:10000;user-select:none;font-size:40px;font-weight:700;position:absolute;top:20px;right:30px}.lightbox-close:hover{color:#ccc}</style><figure class=captioned-image-wrapper><img alt="Implementation of Mpos from the Byte article" class=lightbox-trigger loading=lazy src=mpos_1985.png><figcaption class=image-caption>Implementation of Mpos from the Byte article</figcaption></figure><p>The main difference was that the later version used a record type rather than multiple parameters, other than that we call the same function for the same purpose.<h4 id=enums>Enums</h4><pre class=language-pascal data-lang=pascal style=color:#c0c5ce;background-color:#2b303b><code class=language-pascal data-lang=pascal><span style=color:#b48ead>type
</span><span>    angletype = (Deg,Rad);
</span><span>    proctypes = (SX,DX);
</span></code></pre><p>I'm still impressed by how easy it was to do enums in Pascal. But these two tell us <em>a lot</em>. The first is simple, the calculator's trigonometric functions could work in degrees or radians, and had a config screen to switch between the two. The second, what could SX or DX mean? Yes... we're back to embarrassment again... because my homebrew UI buttons library was not very sophisticated, it had a crude delay built-in, and the length of the delay needed to be customised for the machine in question. SX meant it ran on a 486SX (as I had at home), DX meant it ran on a 486DX (as we had in the computer room). It was very difficult to navigate the UI if set to the wrong processor.<p>Now we're seeing some of the real reasons why resurrecting this code will be difficult, it'll need many changes for it to work on a modern machine, unless it was under an emulator running at a deliberately slow speed.<h4 id=global-state>Global state</h4><p>The main data structures are global variables and modified directly by procedures. The implementation of the Shunting Yard algorithm shows this:<pre class=language-pascal data-lang=pascal style=color:#c0c5ce;background-color:#2b303b><code class=language-pascal data-lang=pascal><span style=color:#b48ead>Procedure </span><span style=color:#8fa1b3>Postorderit</span><span>(equ : integer);
</span><span>          </span><span style=color:#b48ead>Var
</span><span>             i, j      : integer;
</span><span>             temp      : string;
</span><span>
</span><span>          </span><span style=color:#b48ead>Begin
</span><span>               j := </span><span style=color:#d08770>1</span><span>;
</span><span>               initthing;
</span><span>               </span><span style=color:#b48ead>For</span><span> i := </span><span style=color:#d08770>1 </span><span style=color:#b48ead>to</span><span> sizeofnewformulaarray </span><span style=color:#b48ead>do
</span><span>               </span><span style=color:#b48ead>begin
</span><span>                    </span><span style=color:#b48ead>If</span><span> newformulaarray[i][</span><span style=color:#d08770>1</span><span>] </span><span style=color:#b48ead>in</span><span> ['</span><span style=color:#a3be8c>A</span><span>'..'</span><span style=color:#a3be8c>Z</span><span>','</span><span style=color:#a3be8c>e</span><span>'] </span><span style=color:#b48ead>then
</span><span>                    </span><span style=color:#b48ead>begin
</span><span>                         newimprovedformula[equ,j] := newformulaarray[i][</span><span style=color:#d08770>1</span><span>];
</span><span>                         inc(j);
</span><span>                    </span><span style=color:#b48ead>end</span><span>;
</span><span>                    </span><span style=color:#b48ead>if</span><span> isitehh(i) </span><span style=color:#b48ead>then
</span><span>                       push(newformulaarray[i]);
</span><span>                    </span><span style=color:#b48ead>if</span><span> newformulaarray[i] = '</span><span style=color:#a3be8c>)</span><span>' </span><span style=color:#b48ead>then
</span><span>                    </span><span style=color:#b48ead>begin
</span><span>                         temp := pop;
</span><span>                         </span><span style=color:#b48ead>While</span><span> (temp &lt;> '</span><span style=color:#a3be8c>(</span><span>') </span><span style=color:#b48ead>do
</span><span>                         </span><span style=color:#b48ead>Begin
</span><span>                              newimprovedformula[equ,j] := temp;
</span><span>                              temp := pop;
</span><span>                              inc(j);
</span><span>                         </span><span style=color:#b48ead>End</span><span>;
</span><span>                    </span><span style=color:#b48ead>end</span><span>;
</span><span>               </span><span style=color:#b48ead>end</span><span>;
</span><span>               </span><span style=color:#b48ead>While</span><span> (topptr >= bottomptr) </span><span style=color:#b48ead>do
</span><span>               </span><span style=color:#b48ead>begin
</span><span>                    newimprovedformula[equ,j] := pop;
</span><span>                    inc(j);
</span><span>               </span><span style=color:#b48ead>end</span><span>;
</span><span>          </span><span style=color:#b48ead>end</span><span>;
</span></code></pre><p>Basically the tokenised string is in <code>newformulaarray</code>, and the function builds a postfix expression in <code>newimprovedformula</code>.<h4 id=ui-logic>UI logic</h4><p>The UI logic, such as it was (apart from the <code>Button</code> unit) was inline in the code, so the repeated pattern like below is often seen:<pre class=language-pascal data-lang=pascal style=color:#c0c5ce;background-color:#2b303b><code class=language-pascal data-lang=pascal><span>Binit;
</span><span>Defbutton('</span><span style=color:#a3be8c>Show buttons</span><span>',</span><span style=color:#d08770>535</span><span>,</span><span style=color:#d08770>460</span><span>,</span><span style=color:#d08770>635</span><span>,</span><span style=color:#d08770>475</span><span>,FALSE);
</span><span>;
</span><span style=color:#b48ead>For</span><span> i := </span><span style=color:#d08770>1 </span><span style=color:#b48ead>to</span><span> (nextfree - </span><span style=color:#d08770>1</span><span>) </span><span style=color:#b48ead>do
</span><span>    drawbox(i);
</span><span>Mshow;
</span><span style=color:#b48ead>Repeat
</span><span>    Mpos(mousebits);
</span><span>    buttonpressed := </span><span style=color:#d08770>0</span><span>;
</span><span>    </span><span style=color:#b48ead>If</span><span> mousebits.buttonstatus = </span><span style=color:#d08770>1 </span><span style=color:#b48ead>then
</span><span>       buttonpressed := whichbutton;
</span><span>    </span><span style=color:#b48ead>If</span><span> buttonpressed > </span><span style=color:#d08770>0 </span><span style=color:#b48ead>then
</span><span>    </span><span style=color:#b48ead>begin
</span><span>        ;
</span><span>        swapindent(buttonpressed);
</span><span>        ;
</span><span>    </span><span style=color:#b48ead>end</span><span>;
</span><span>    </span><span style=color:#b48ead>If</span><span> processor = DX </span><span style=color:#b48ead>then
</span><span>        Delay(</span><span style=color:#d08770>250</span><span>);
</span><span>    </span><span style=color:#b48ead>If</span><span> processor = SX </span><span style=color:#b48ead>then
</span><span>        Delay(</span><span style=color:#d08770>100</span><span>);
</span><span>    </span><span style=color:#b48ead>Case</span><span> buttonpressed </span><span style=color:#b48ead>of
</span><span>        </span><span style=color:#d08770>1</span><span> : </span><span style=color:#b48ead>Begin
</span><span>            whichmode := Norm;
</span><span>            exit := TRUE;
</span><span>        </span><span style=color:#b48ead>end</span><span>;
</span><span>    </span><span style=color:#b48ead>end</span><span>;
</span><span>    </span><span style=color:#b48ead>If</span><span> buttonpressed > </span><span style=color:#d08770>0 </span><span style=color:#b48ead>then
</span><span>    </span><span style=color:#b48ead>begin
</span><span>        Mhide;
</span><span>        swapindent(buttonpressed);
</span><span>        ;
</span><span>    </span><span style=color:#b48ead>end</span><span>;
</span><span style=color:#b48ead>Until</span><span> (exit = TRUE);
</span></code></pre><p><code>Binit</code> cleared all previous button state and assumed a blank screen. <code>Defbutton</code> defined a button. Then a loop ran (with the aforementioned CPU-specific delay) until a button was pressed. <code>Mpos</code> (from the aforementioned mysterious Mouse unit) was used to detect the mouse state. <code>buttonpressed</code> was simply an integer that gave the number of the button in the order in which <code>Defbutton</code> was called initially. <code>swapindent</code> gave the effect of the button being pressed.<h4 id=the-full-code-and-miscellaneous-other-highlights>The full code and miscellaneous other highlights</h4><p>Some of the other examples are quite long, so I won't quote them in-line, I think it's time to link to the code in all its glory instead. The original code is here: <a href=https://github.com/benashford/grcalc/blob/master/original/GRCLC120.PAS>GRCLC120.PAS</a><p>The main "calculating" function was <a href=https://github.com/benashford/grcalc/blob/master/original/GRCLC120.PAS#L376-L454><code>CalcY</code></a>.<p>There's an absolutely mammoth function called <code>Displaycontrol</code>, (starts <a href=https://github.com/benashford/grcalc/blob/master/original/GRCLC120.PAS#L534>here</a>) which was unusually accurately named, it was responsible for the display of the graph itself. Display of menus and settings, etc. were separate. All those functions made liberal use of Pascal's ability to nest functions and procedures, these were not closures or first-class functions as we'd expect them today (you couldn't return them or pass them as arguments, but they did have the ability to read and modify the parent's local variables); in this code they were mainly used as crude namespacing, if FunctionB was only ever called from FunctionA then it was nested inside FunctionA.<p>One feature I had completely forgotten until writing this is that it saved its settings on exit, and read it back on startup. This has made testing it easier.<h2 id=resurrection-attempts>Resurrection attempts</h2><p>Numerous times I had the idea to resurrect this code. But it was mostly idle thoughts, there was always something more important going on. The first semi-serious attempt was when I learned of the <a href=https://www.dosbox.com/>DOSBox project</a>. This looked like an obvious way forward, it was a full PC emulator running DOS so all the weirdnesses around VGA graphics and direct memory access wouldn't be a problem.<p>But there were some problems.<p>One was Turbo Pascal itself, I no longer owned a copy of it. Borland had released several versions for free shortly before their demise, but the most recent was Turbo Pascal 5.5 and I didn't know if it would work with that version. There was a risk I'd be chasing problems that didn't exist and were just version compatibility problems.<p>The second issue was the parts of the project that were missing entirely, the <code>Button</code>, <code>Stack</code> and the mystery <code>Mouse</code> units. I'd have to rebuild those from scratch, in an old IDE in a language I hadn't used for years, in an emulator. It was looking like quite a substantial chunk of work.<p>Of course I could have just ported it to a more modern platform, but the thought of that didn't satisfy my sense of nostalgia. I wanted my code as-was to run, so I could see it running again and compare against more recent code I'd written.<p>So it remained on my to-do list in perpetuity.<h2 id=ai>AI</h2><p>Fast forward back to 2025. Thirty years after I began work on my A-Level project, and the software world is very different. Some changes for the better, some for the worse.<p>Of all the things that have changed in that time, some others have changed less than I would have thought would change all the way back when. Anyone using Turbo Pascal in 1995 would recognise the current generation of IDEs as IDEs, similar to how a Unix shell is still a Unix shell after even longer periods of time.<p>But the single biggest thing is one of the newest, the availability of AI and especially AI-assisted tools (Copilot, Gemini, Claude Code, Codex, etc., etc., they're already near-ubiquitous I don't have to explain them here) that have been encroaching over the past few years.<p>In online forums there seems to be fairly extreme positions taken. Some people think AI will kill off software development in the next six months, others think none of it works and will never work. They can't both be right, but they can both be wrong. In practice these tools are rapidly becoming very common, people are becoming more adept at using them and knowing when and where they work well and also the opposite.<p>There are also some classic nerd wars starting (similar to Vi vs. Emacs of old). People claiming AI Product No. 1 is superior and only idiots use AI Product No. 2, etc. This one is the most baffling to me as, unlike Vi. vs Emacs where there's a large investment in getting the tool setup just right that you can't just switch between tools on a whim, with AI tools you can use more than one, often at the same time<sup class=footnote-reference><a href=#4>4</a></sup>.<p>But, to bring us back to the point of this story, recently I had an idea...<p>...what if I use AI to bring my 1990s vintage graphing calculator back to life?<p>I could use an AI agent to do all the hard work. I'd dig out the code, put it in a new directory, explain the problem and see how far we get. I wasn't going to prescribe any solution, there was just going to be one rule, the main code should have the fewest changes possible. I didn't want a reconstruction, I wanted my old code as-was to run. I would let the AI agent create some kind of harness to run it in.<h2 id=the-resurrection>The resurrection</h2><p>The first question was, which agent to use? At work we've used a few, but I wanted to use something new. I had recently downloaded <a href=https://antigravity.google/>Google Antigravity</a> at home to try it out, so I decided to use that. Access to Gemini 3 Pro and Claude Opus 4.5, on paper it's quite a potent combination; and, a couple of days after I did the bulk of what is described in this post, Gemini 3 Flash was launched which I used to tidy-up some loose ends.<p>The second (quite fundamental) question was, which version of the code was the final one. What with it being the 90s at the time (git hadn't been invented), and my own inexperience of version control tools, the workflow I had was the classic "bump a number at the end of the file and save a copy" technique, as such my archive had many versions. The one with the highest number also had the latest timestamp (8th February 1996), so I went with that. I'm still not 100% sure that's the final version, I seem to recall good weather when I was polishing and submitting the project, not February weather at all, but it's the latest one I still have.<p>Then it was time to invoke the agent. I'm not claiming any magic prompt is the way forward, I just described the problem and invited the agent to make a plan. Starting with Claude Opus 4.5. I explained I wanted my code to be left alone if at all possible, and that some of the other units were missing and would need to be re-created.<p>It very quickly decided that the <a href=https://www.freepascal.org>Free Pascal Compiler</a> was the way forward, as it has the ability to compile the Turbo Pascal dialect of Pascal, this should hopefully mean the bulk of my original code that survives would not need to be modified.<p>One area that took a while was the <code>Graph</code> unit. This was part of Turbo Pascal's standard library, and was DOS specific; and, not only DOS specific but VGA specific. It wasn't going to be able to run on my Mac in 2025, even if we did have the code for it. Free Pascal has a <code>Graph</code> unit, but again not well supported on Mac OS. The first choice of the AI agent was to use <code>ptcgraph</code>, as that seems to be (I say "seems" as it's far away from my area of expertise) to be the preferred option, however this also has issues with Mac OS. Where we ended up was SDL2 via the <a href=https://github.com/PascalGameDevelopment/SDL2-for-Pascal>SDL2-for-Pascal library</a>, on top of that Antigravity via Claude generated a new <code>Graph</code> unit, and also a <code>Mouse</code> unit that maintained the function signatures of the original but was implemented using SDL2.<p>The AI-generated implementation of <code>Mpos</code>. Compare and contrast with the likely ancestor in Byte magazine above.<pre class=language-pascal data-lang=pascal style=color:#c0c5ce;background-color:#2b303b><code class=language-pascal data-lang=pascal><span style=color:#b48ead>procedure </span><span style=color:#8fa1b3>Mpos</span><span>(</span><span style=color:#b48ead>var</span><span> m: mouserecord);
</span><span style=color:#b48ead>var
</span><span>  buttons: cuint32;
</span><span>  mx, my: cint;
</span><span>  event: TSDL_Event;
</span><span style=color:#b48ead>begin
</span><span>  </span><span style=color:#65737e>{ Poll all pending events }
</span><span>  </span><span style=color:#b48ead>while</span><span> SDL_PollEvent(@event) = </span><span style=color:#d08770>1 </span><span style=color:#b48ead>do
</span><span>  </span><span style=color:#b48ead>begin
</span><span>    </span><span style=color:#b48ead>if</span><span> event.type_ = SDL_QUITEV </span><span style=color:#b48ead>then
</span><span>    </span><span style=color:#b48ead>begin
</span><span>      Halt(</span><span style=color:#d08770>0</span><span>);
</span><span>    </span><span style=color:#b48ead>end</span><span>;
</span><span>  </span><span style=color:#b48ead>end</span><span>;
</span><span>  
</span><span>  </span><span style=color:#65737e>{ Get current mouse state from SDL2 }
</span><span>  buttons := SDL_GetMouseState(@mx, @my);
</span><span>  
</span><span>  m.column := mx;
</span><span>  m.row := my;
</span><span>  
</span><span>  </span><span style=color:#65737e>{ Convert button state to TP-compatible format }
</span><span>  </span><span style=color:#65737e>{ SDL2: Left button = 1, Middle = 2, Right = 4 }
</span><span>  </span><span style=color:#65737e>{ TP: Left button = 1, Right button = 2 }
</span><span>  m.buttonstatus := </span><span style=color:#d08770>0</span><span>;
</span><span>  </span><span style=color:#b48ead>if</span><span> (buttons </span><span style=color:#b48ead>and</span><span> SDL_BUTTON_LMASK) &lt;> </span><span style=color:#d08770>0 </span><span style=color:#b48ead>then
</span><span>    m.buttonstatus := </span><span style=color:#d08770>1</span><span>;
</span><span>  </span><span style=color:#b48ead>if</span><span> (buttons </span><span style=color:#b48ead>and</span><span> SDL_BUTTON_RMASK) &lt;> </span><span style=color:#d08770>0 </span><span style=color:#b48ead>then
</span><span>    m.buttonstatus := m.buttonstatus </span><span style=color:#b48ead>or </span><span style=color:#d08770>2</span><span>;
</span><span>    
</span><span>  </span><span style=color:#65737e>{ Update global mouse position }
</span><span>  mousex := m.column;
</span><span>  mousey := m.row;
</span><span>  
</span><span>  </span><span style=color:#65737e>{ Update visual display }
</span><span>  UpdateScreen;
</span><span style=color:#b48ead>end</span><span>;
</span></code></pre><p>The AI generated replacements for <code>Stack</code> and <code>Button</code> went remarkably smoothly also.<p>Soon it was time to run it. A <code>make clean && make</code> and we're there. <code>./grcalc</code> and...<p>...completely blank window.<p>This involved a bit of back-and-forth, by which I mean I pasted a screenshot of a completely blank window only for the agent to realise it was because it forgot to set the colours correctly when drawing lines in the <code>Graph</code> unit.<p>At this point I exhausted my quota with Claude Opus 4.5, but it has been running for a good while by this point, I was surprised it got as far as it did. So I switched to Gemini 3 Pro to continue.<p>There were still a couple of problems to workout. One was some weird timing problem where it would only show the graph for a brief second, then go immediately back to the main menu; I think this was inevitable due to the original's unsophisticated way of handling UI events, but Gemini was convinced it was a logic bug in the main code, so the fix became one of the (few) changes to the original code.<p>The final problem was there was no visible text. The original, via Turbo Pascal's <code>Graph</code>, ran in VGA mode and used the built-in fonts. If we wanted text on screen (and it would be completely unusable without) we'd have to do something about this. Once again I decided to make it the AI agent's problem. It found a <a href=https://github.com/dhepper/font8x8>public-domain 8-bit bitmap font</a>, very similar to what DOS screens looked like at the time, and it created a Python script to download and convert it to a Pascal source file we could use.<p>The end result?<p>The System Works.<p>My original graphing calculator running as a Mac OS app, still functional, still with the same bugs. It looks exactly how I remember it. This is the first time this code has run in <em>decades</em>.<h3 id=screenshots>Screenshots</h3><style>.captioned-image-wrapper{text-align:center;max-width:90%;margin:2rem auto;display:block}.captioned-image-wrapper img{cursor:pointer;width:100%;height:auto;margin:0 auto;transition:opacity .2s;display:block}.captioned-image-wrapper img:hover{opacity:.9}.image-caption{text-align:center;color:#666;margin-top:.5rem;font-size:.875rem;font-style:italic}.lightbox-overlay{z-index:9999;cursor:pointer;background-color:#000000e6;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:fixed;top:0;left:0}.lightbox-overlay.active{display:flex!important}.lightbox-overlay img{object-fit:contain;cursor:default;max-width:95%;max-height:95%;box-shadow:0 0 30px #00000080}.lightbox-close{color:#fff;cursor:pointer;z-index:10000;user-select:none;font-size:40px;font-weight:700;position:absolute;top:20px;right:30px}.lightbox-close:hover{color:#ccc}</style><figure class=captioned-image-wrapper><img alt="The home screen of the graphing calculator" class=lightbox-trigger loading=lazy src=home-screen.png><figcaption class=image-caption>The home screen</figcaption></figure><style>.captioned-image-wrapper{text-align:center;max-width:90%;margin:2rem auto;display:block}.captioned-image-wrapper img{cursor:pointer;width:100%;height:auto;margin:0 auto;transition:opacity .2s;display:block}.captioned-image-wrapper img:hover{opacity:.9}.image-caption{text-align:center;color:#666;margin-top:.5rem;font-size:.875rem;font-style:italic}.lightbox-overlay{z-index:9999;cursor:pointer;background-color:#000000e6;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:fixed;top:0;left:0}.lightbox-overlay.active{display:flex!important}.lightbox-overlay img{object-fit:contain;cursor:default;max-width:95%;max-height:95%;box-shadow:0 0 30px #00000080}.lightbox-close{color:#fff;cursor:pointer;z-index:10000;user-select:none;font-size:40px;font-weight:700;position:absolute;top:20px;right:30px}.lightbox-close:hover{color:#ccc}</style><figure class=captioned-image-wrapper><img alt="Edit equation screen showing the equation entry interface" class=lightbox-trigger loading=lazy src=edit-equation-screen.png><figcaption class=image-caption>Edit equations screen</figcaption></figure><style>.captioned-image-wrapper{text-align:center;max-width:90%;margin:2rem auto;display:block}.captioned-image-wrapper img{cursor:pointer;width:100%;height:auto;margin:0 auto;transition:opacity .2s;display:block}.captioned-image-wrapper img:hover{opacity:.9}.image-caption{text-align:center;color:#666;margin-top:.5rem;font-size:.875rem;font-style:italic}.lightbox-overlay{z-index:9999;cursor:pointer;background-color:#000000e6;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:fixed;top:0;left:0}.lightbox-overlay.active{display:flex!important}.lightbox-overlay img{object-fit:contain;cursor:default;max-width:95%;max-height:95%;box-shadow:0 0 30px #00000080}.lightbox-close{color:#fff;cursor:pointer;z-index:10000;user-select:none;font-size:40px;font-weight:700;position:absolute;top:20px;right:30px}.lightbox-close:hover{color:#ccc}</style><figure class=captioned-image-wrapper><img alt="Graph showing two plotted equations" class=lightbox-trigger loading=lazy src=graph.png><figcaption class=image-caption>The graphs of two equations plotted simultaneously</figcaption></figure><style>.captioned-image-wrapper{text-align:center;max-width:90%;margin:2rem auto;display:block}.captioned-image-wrapper img{cursor:pointer;width:100%;height:auto;margin:0 auto;transition:opacity .2s;display:block}.captioned-image-wrapper img:hover{opacity:.9}.image-caption{text-align:center;color:#666;margin-top:.5rem;font-size:.875rem;font-style:italic}.lightbox-overlay{z-index:9999;cursor:pointer;background-color:#000000e6;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:fixed;top:0;left:0}.lightbox-overlay.active{display:flex!important}.lightbox-overlay img{object-fit:contain;cursor:default;max-width:95%;max-height:95%;box-shadow:0 0 30px #00000080}.lightbox-close{color:#fff;cursor:pointer;z-index:10000;user-select:none;font-size:40px;font-weight:700;position:absolute;top:20px;right:30px}.lightbox-close:hover{color:#ccc}</style><figure class=captioned-image-wrapper><img alt="The same equations displayed in Apple's Grapher application" class=lightbox-trigger loading=lazy src=grapher.png><figcaption class=image-caption>The same equations in a modern graphic calculator (Apple's Grapher) just to prove it works</figcaption></figure><h2 id=conclusion>Conclusion</h2><p>The total amount of time spent to go from "I wonder if AI can do all this for me" to "It works!"? Less than two hours.<p>How much did the surviving original code have to change? Not much at all, hardly any changes, and those changes that are present haven't changed the important logic or structure at all.<p>The full diff between the original code and the updated code (not including the units that are 100% generated):<p>Note the December 2024 comment, it was generated this month (December 2025), but the AI agent didn't know what year it was.<pre class=language-diff data-lang=diff style=color:#c0c5ce;background-color:#2b303b><code class=language-diff data-lang=diff><span>2a3,4
</span><span style=color:#a3be8c>> {$mode objfpc}{$H+}
</span><span style=color:#a3be8c>> 
</span><span>5a8,9
</span><span style=color:#a3be8c>> {Modified for Free Pascal compatibility - December 2024}
</span><span style=color:#a3be8c>> 
</span><span>41,42c45,48
</span><span style=color:#bf616a>&lt;           var
</span><span style=color:#bf616a>&lt;              num : word;
</span><span style=color:#c0c5ce;background-color:#4f5b66>---
</span><span style=color:#a3be8c>>            { Original used DOS port access - not available on modern systems }
</span><span style=color:#a3be8c>>            begin
</span><span style=color:#a3be8c>>                 { No-op: Modern graphics systems handle cursor differently }
</span><span style=color:#a3be8c>>            end;
</span><span>44,50d49
</span><span style=color:#bf616a>&lt;           begin
</span><span style=color:#bf616a>&lt;                port[$03D4] := $0A;
</span><span style=color:#bf616a>&lt;                num := port[$03D5];
</span><span style=color:#bf616a>&lt;                port[$03D4] := $0A;
</span><span style=color:#bf616a>&lt;                port[$03D5] := num or 32;
</span><span style=color:#bf616a>&lt;           end;
</span><span style=color:#bf616a>&lt; 
</span><span>52,60c51,54
</span><span style=color:#bf616a>&lt;           var
</span><span style=color:#bf616a>&lt;              num : word;
</span><span style=color:#bf616a>&lt; 
</span><span style=color:#bf616a>&lt;           begin
</span><span style=color:#bf616a>&lt;                port[$03D4] := $0A;
</span><span style=color:#bf616a>&lt;                num := port[$03D5];
</span><span style=color:#bf616a>&lt;                port[$03D4] := $0A;
</span><span style=color:#bf616a>&lt;                port[$03D5] := num xor 32;
</span><span style=color:#bf616a>&lt;           end;
</span><span style=color:#c0c5ce;background-color:#4f5b66>---
</span><span style=color:#a3be8c>>            { Original used DOS port access - not available on modern systems }
</span><span style=color:#a3be8c>>            begin
</span><span style=color:#a3be8c>>                 { No-op: Modern graphics systems handle cursor differently }
</span><span style=color:#a3be8c>>            end;
</span><span>196c190,191
</span><span style=color:#bf616a>&lt;                InitGraph(Gd, Gm, 'c:\tp7\bgi');
</span><span style=color:#c0c5ce;background-color:#4f5b66>---
</span><span style=color:#a3be8c>>                { Empty path for ptcgraph - auto-detects appropriate mode }
</span><span style=color:#a3be8c>>                InitGraph(Gd, Gm, '');
</span><span>748a744
</span><span style=color:#a3be8c>>                          Exit := FALSE;
</span><span>979a976
</span><span style=color:#a3be8c>>                          exit := FALSE;
</span><span>1022a1020
</span><span style=color:#a3be8c>>                          exit := FALSE;
</span><span>1043a1042
</span><span style=color:#a3be8c>> 
</span><span>1226a1226
</span><span style=color:#a3be8c>>                exitexit := FALSE;
</span></code></pre><p>With hardly any changes, my original code lives again 😍. The functions that contain the main logic are completely unchanged.<h2 id=the-full-code>The full code</h2><p>I've published the full code on <a href=https://github.com/benashford/grcalc>GitHub</a>. I've only tested it on Mac OS, but it should work elsewhere with a bit of tuning of the location of libraries (in particular SDL).<p>Index of interesting files:<ol><li>The original code: <a href=https://github.com/benashford/grcalc/blob/master/original/GRCLC120.PAS>GRCLC120.PAS</a> Hand-coded by me 1995-1996.<li>The updated code: <a href=https://github.com/benashford/grcalc/blob/master/src/GRCLC120.pas>GRCLC120.pas</a> Updated by AI with minimal changes, everything else below this point is 100% AI generated and untouched by human hand.<li>The previously lost units: <a href=https://github.com/benashford/grcalc/blob/master/src/Button.pas>Button.pas</a>, <a href=https://github.com/benashford/grcalc/blob/master/src/Stack.pas>Stack.pas</a>, <a href=https://github.com/benashford/grcalc/blob/master/src/Mouse.pas>Mouse.pas</a><li>The Graph-compatible layer using SDL: <a href=https://github.com/benashford/grcalc/blob/master/src/Graph.pas>Graph.pas</a><li>The VGA-alike font was generated by a Python script: <a href=https://github.com/benashford/grcalc/blob/master/generate_font.py>generate_font.py</a> which produced: <a href=https://github.com/benashford/grcalc/blob/master/src/BitmapFont.pas>BitmapFont.pas</a></ol><h3 id=footnotes>Footnotes</h3><div class=footnote-definition id=1><sup class=footnote-definition-label>1</sup><p>For the unfamiliar with the British education system, <a href=https://en.wikipedia.org/wiki/A-level>A-Levels</a> are studied for two years with exams taken usually at the age of 18, before going on to university or other things. Well, I say "are", I think they've changed numerous times since then, but it's none of my concern these days. I believe, and correct me if I'm wrong, but the British system was/is unusual in that it allowed the pupil to be very concentrated in their choice of subjects, the A-Levels were not "general" education by any means.</div><div class=footnote-definition id=2><sup class=footnote-definition-label>2</sup><p>I'm underselling my degree dissertaion here, maybe I'll tell the story in a different blog post, but probably not as it's not as interesting as this one.</div><div class=footnote-definition id=3><sup class=footnote-definition-label>3</sup><p>OK, claiming MS-DOS as being Microsoft's "premier platform" in 1995 is contentious. Windows NT 3.1 had been released in 1993. But I justify the claim on the grounds that NT before 4.0 had a very limited market share, and until Windows 95 was released in late 1995, you couldn't run Windows without MS-DOS being installed first.</div><div class=footnote-definition id=4><sup class=footnote-definition-label>4</sup><p>I discovered by accident how potent using more than one model from different vendors can be when we setup Copilot Coding Agent at work as a trial, after Copilot has completed a PR, our custom code-review tool (not Copilot's Code Review, one we run locally and is more thorough) kicked-off and submitted several comments, which automatically triggered the Coding Agent again, etc. Looking through the back-and-forth afterwards was a bit of an eye-opener, two models (Copilot Coding Agent uses Claude Sonnet I believe, the reviewer was one of the OpenAI GPT models - I forget which one it was at the time) produced a high-quality PR that one tool alone wouldn't have done. It hadn't been my intent to test that exact scenario, but the outcome was surprisingly effective.</div></section></article></main><div id=button-container><div id=toc-floating-container><input class=toggle id=toc-toggle type=checkbox><label class=overlay for=toc-toggle></label><label title="Toggle Table of Contents" class=button for=toc-toggle id=toc-button><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg></label><div class=toc-content><div class=toc-container><ul><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#let-me-take-you-back-in-time>Let me take you back in time...</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#the-calculator>The calculator</a> <ul><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#some-code-examples>Some code examples</a> <ul><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#imported-units>Imported units</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#enums>Enums</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#global-state>Global state</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#ui-logic>UI logic</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#the-full-code-and-miscellaneous-other-highlights>The full code and miscellaneous other highlights</a></ul></ul><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#resurrection-attempts>Resurrection attempts</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#ai>AI</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#the-resurrection>The resurrection</a> <ul><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#screenshots>Screenshots</a></ul><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#conclusion>Conclusion</a><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#the-full-code>The full code</a> <ul><li><a href=https://benashford.github.io/blog/2025/12/24/resurrecting-my-old-turbo-pascal-homework-with-ai/#footnotes>Footnotes</a></ul></ul></div></div></div><a title="Go to the top of the page" class=no-hover-padding href=# id=top-button> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://benashford.github.io/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" rel=" me" href=https://github.com/benashford> <img alt=github loading=lazy src=https://benashford.github.io/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://uk.linkedin.com/in/benashford> <img alt=linkedin loading=lazy src=https://benashford.github.io/social_icons/linkedin.svg title=linkedin> </a></ul></nav><nav class=nav-navs></nav><div class=credits><small> Powered by <a href=https://www.getzola.org>Zola</a> & <a href=https://github.com/welpo/tabi>tabi</a> </small></div></section><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer><script src=https://benashford.github.io/js/lightbox.js></script>